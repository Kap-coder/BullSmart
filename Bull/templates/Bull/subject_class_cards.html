{% extends 'Bull/base.html' %}
{% block content %}
<div data-ajax-content class="ajax-content">
  <div class="container py-4">
    <h2 class="mb-4" style="color: var(--primary); font-weight: 700; letter-spacing: 1px;">
      <i class="fa fa-book me-2" style="color: var(--primary);"></i>
      Classes associées à la matière : <span style="color: var(--secondary);">{{ subject.name }}</span>
    </h2>
    <div class="row g-4">
      {% for card in class_cards %}
      <div class="col-12 col-md-6 col-lg-4">
        <div class="card class-card h-100 shadow-sm border-0" style="border-radius: 16px;">
          <div class="card-body d-flex flex-column justify-content-between">
            <div>
              <div class="d-flex align-items-center mb-2">
                <i class="fa fa-users" style="font-size: 1.5rem; color: var(--secondary); margin-right: 0.5rem;"></i>
                <h5 class="card-title mb-0" style="color: var(--primary); font-weight: 600;">{{ card.cs.classroom.name }}</h5>
                <span class="badge" style="background: var(--info); color: var(--text-light); margin-left: 0.75rem; font-size: 0.95rem;">Effectif: {{ card.stats.total }}</span>
              </div>
              <p class="card-text mb-1" style="color: var(--text-dark); font-size: 1rem;">
                <i class="fa fa-chalkboard-teacher me-1" style="color: var(--primary);"></i>
                Prof : <span style="font-weight: 500; color: var(--secondary);">{% if card.cs.teacher %}{{ card.cs.teacher.user.get_full_name }}{% else %}Non attribué{% endif %}</span>
              </p>
              <p class="card-text mb-2" style="color: var(--text-dark); font-size: 1rem;">
                <i class="fa fa-balance-scale me-1" style="color: var(--primary);"></i>
                Coefficient : <span style="font-weight: 500; color: var(--primary);">{{ card.cs.coefficient }}</span>
              </p>
            </div>
            <a href="{% url 'classsubject_students' card.cs.id %}" class="btn" style="background: var(--primary); color: var(--text-light); font-weight: bold; border-radius: 8px; transition: background 0.2s;">Remplir les notes</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <a href="{% url 'subject_card_list' %}" class="btn mt-4" style="background: var(--secondary); color: var(--text-light); font-weight: bold; border-radius: 8px;">Retour aux matières</a>
  </div>
  <style>
    .class-card {
      padding: 1.5rem;
      margin-bottom: 1rem;
      transition: transform 0.15s, box-shadow 0.15s;
      box-shadow: 3px 3px 2px rgba(45,93,161,0.12);
    }
    .class-card:hover {
      transform: translateY(-4px) scale(1.03);
      box-shadow: 0 8px 24px rgba(45,93,161,0.12);
    }
  </style>
</div>
{% endblock %}
